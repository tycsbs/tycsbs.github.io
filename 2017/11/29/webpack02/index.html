<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Webpack3.0快速入门之css处理与ES6编译 | 白松的博客</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Webpack3.0快速入门之css处理与ES6编译</h1><a id="logo" href="/.">白松的博客</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Webpack3.0快速入门之css处理与ES6编译</h1><div class="post-meta"><a href="/2017/11/29/webpack02/#comments" class="comment-count"><i data-thread-key="2017/11/29/webpack02/" class="ds-thread-count"></i>留言</a><p><span class="date">2017-11-29</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>在<a href="https://www.imooc.com/article/21544" target="_blank" rel="noopener">webpack快入门之从零到一初体验</a> 一文中，我们从整体了解了webpack相关特性并手动初步实现了一个可执行编译的webpack环境，这一节，我们将在此基础上继续探讨以下功能的实现：</p>
<ul>
<li><strong>css的编译与加载</strong>，基于style-loader、css-loader、postcss-loader、autoprefixer以及css预处理(以less为例)。</li>
<li><strong>ES6的编译与加载</strong>，基于babel及其相关模块实现。</li>
<li><strong>css资源与js资源的分割</strong>，基于插件 extract-text-webpack-plugin。</li>
</ul>
<hr>
<h2 id="css资源文件的编译与加载"><a href="#css资源文件的编译与加载" class="headerlink" title="css资源文件的编译与加载"></a>css资源文件的编译与加载</h2><p>css<strong>最基本</strong>的编译要依靠于style-loader、css-loader这两个加载器，所谓最基本，就是在不考虑使用css预处理器以及css后处理器的情况。预处理器包括less、scss、sass、stylus，后处理器如postcss的autoprefixer等。首先我们先弄明白各加载器的作用：</p>
<ul>
<li><strong>style-loader</strong>，将所有处理好的css样式以行内元素<em>style</em>标签的格式动态注入到界面的head标签中去。</li>
<li><strong>css-loader</strong>，用来处理css样式，例如把css中类似<em>@import()或者url()</em>这样的引用资源进行引入或者处理。</li>
<li><strong>autoprefixer</strong>，postcss提供用来自动处理css在不同浏览器之间前缀等问题，从这里我们也可以看出，使用autoprefixer需要先引入postcss。</li>
<li><strong>预处理-loader</strong>，所有预处理器都是以css为终点生成文件的一种专门的编程语言，为css增加了一些编程特性。</li>
</ul>
<hr>
<p>了解了这些加载器各自的职能，那我们现在先小试牛刀，用代码来体验一下。</p>
<h3 id="style-loader-amp-amp-css-loader"><a href="#style-loader-amp-amp-css-loader" class="headerlink" title="style-loader &amp;&amp; css-loader"></a>style-loader &amp;&amp; css-loader</h3><p>1、首先，我们在src项目文件夹下新建css文件夹，并新增一样式文件common.css，并写一些全局的css<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to bottom, #abcdef, #f3f5f7);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2、安装css-loader和style-loader，进入到命令行，执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i style-loader css-loader --save-dev</span><br></pre></td></tr></table></figure></p>
<p>3、现在我们在入口文件app.js中去引入我们的common.css：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./css/common.css'</span>;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>4、webpack配置，打开webpack.config.js,新增module配置项：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line">...</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: path.resolve(__dirname, <span class="string">'./src/main.js'</span>),<span class="comment">//入口文件地址</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'./dist'</span>),</span><br><span class="line">        filename: <span class="string">'js/[name]-[chunkhash].js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123; </span><br><span class="line">        rules: [ &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,<span class="comment">//匹配所有css文件</span></span><br><span class="line">            use: [</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"style-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"css-loader"</span> &#125;</span><br><span class="line">             ]<span class="comment">//指定加载器</span></span><br><span class="line">            exclude: path.resolve(__dirname + <span class="string">'node_modules'</span>)<span class="comment">//排除对node_module文件夹下面的所有资源的匹配</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>需要注意，在指定加载器的时候，要注意各加载器的顺序，<strong>webpack中loader的解析是从右往左的顺序进行的</strong>，以当前为例，css文件首先是要通过css-loader进行处理，在将处理好的css交由style-loader，因此在指定加载器的时候，首先应该是style-loader,其次是css-loader。</p>
<p>现在，我们再次执行webpack编译命令，在浏览器中打开生成的index.html，发现页面背景已经如我们设置改变了,并且html文档中css也已经以style模式注入到head中了。</p>
<p><img src="/2017/11/29/webpack02/wp2_1.jpg" alt="style-loader与css-loader加载"></p>
<hr>
<h3 id="autoprefixer"><a href="#autoprefixer" class="headerlink" title="autoprefixer"></a>autoprefixer</h3><p>上文我们已经说过，autoprefixer是css后处理器postcss提供的一个对css3中个别属性在不同浏览器下需要添加浏览器前缀的样式处理工具，因此在使用autoprefixer之前，我们需要安装postcss-loader来加载它。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i postcss-loader autoprefixer --save-dev</span><br></pre></td></tr></table></figure>
<p>1、现在，我们打开webpack.config.js配置文件，在module下配置autoprefixer</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"style-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"css-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"postcss-loader"</span> &#125;<span class="comment">//指定postcss加载器</span></span><br><span class="line">            ],</span><br><span class="line">            exclude: path.resolve(__dirname + <span class="string">'node_modules'</span>)</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在配置postcss-loader之后，我们需要注意，<strong>由于css-loader处理文件导入的方式，因此加载器postcss-loader不能与CSS模块一起使用。 为了使它们正常工作，可以添加css-loader的importLoaders选项。</strong>。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"style-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"css-loader"</span>,<span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,<span class="comment">//importLoaders解决由于css-loader处理文件导入的方式导致postcss-loader不能正常使用的问题</span></span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"postcss-loader"</span> &#125;<span class="comment">//指定postcss加载器</span></span><br><span class="line">            ],</span><br><span class="line">            exclude: path.resolve(__dirname + <span class="string">'node_modules'</span>)</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>2、接下来，我们要给postcss-loader指定加载autoprefixer的操作，在根目录新建postcss.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//postcss.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">"autoprefixer"</span>)()</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在postcss.config.js配置文件中，我们给引入了autoprefixer,这样一来，在postcss-loader加载的时候，就会自动去读取该配置文件里面的配置项，加载autoprefixer了。</p>
<p>3、所有配置项已经完成，现在我们在原有的common.css文件中去添加样式，用来测试autoprefixer<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to bottom, #abcdef, #f3f5f7);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flexbox</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to bottom, #abcdef, #096)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>添加完成后，运行webpack命令进行编译，并在浏览器中打开index.html，打开控制台查看head标签下生成的style标签，已经可以看到autoprefixer已经自动为我们添加了浏览器前缀<br><img src="/2017/11/29/webpack02/wp2_2.jpg" alt="autoprefixer"></p>
<p>autoprefixer 为我们提供了可以根据需求配置的参数，例如我么可以让它最终生成的css兼容最近的N个版本就好，但这不是我们本次讨论的重点，有兴趣的同学可以自己去官网查看。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//postcss.config.js  设置给最近5个版本的浏览器加前缀</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">"autoprefixer"</span>)(&#123;<span class="attr">browsers</span>:<span class="string">'last 5 version'</span>&#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2017/11/29/webpack02/wp2_3.jpg" alt="autoprefixer set version"></p>
<hr>
<h3 id="css预处理（less-loader）"><a href="#css预处理（less-loader）" class="headerlink" title="css预处理（less-loader）"></a>css预处理（less-loader）</h3><p>1、在src/css文件夹下新建style.less文件，并添加样式作为测试，并在入口文件app.js中引用该less文件<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@base:</span> <span class="number">#f938ab</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box-shadow</span>(<span class="variable">@style</span>, <span class="variable">@c</span>) <span class="keyword">when</span> (iscolor(<span class="variable">@c</span>)) &#123;</span><br><span class="line">  <span class="attribute">-webkit-box-shadow</span>: <span class="variable">@style</span> <span class="variable">@c</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>:         <span class="variable">@style</span> <span class="variable">@c</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-shadow</span>(<span class="variable">@style</span>, <span class="variable">@alpha</span>: <span class="number">50%</span>) <span class="keyword">when</span> (isnumber(<span class="variable">@alpha</span>)) &#123;</span><br><span class="line">  <span class="selector-class">.box-shadow</span>(<span class="variable">@style</span>, rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="variable">@alpha</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: saturate(<span class="variable">@base</span>, <span class="number">5%</span>);</span><br><span class="line">  <span class="attribute">border-color</span>: lighten(<span class="variable">@base</span>, <span class="number">30%</span>);</span><br><span class="line">  <span class="selector-tag">div</span> &#123; <span class="selector-class">.box-shadow</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>, <span class="number">30%</span>) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//app.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./css/common.css'</span>;<span class="comment">//引入css</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./css/style.less'</span>;<span class="comment">//引入less</span></span><br></pre></td></tr></table></figure>
<p>2、安装less以及less-loader，并在webpack配置项中进行配置。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i less less-loader --save-dev</span><br></pre></td></tr></table></figure></p>
<p>在module配置项中新增一条对less文件处理的规则：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> ...</span><br><span class="line"> <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"style-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"css-loader"</span>, <span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"postcss-loader"</span> &#125;,</span><br><span class="line">            ],</span><br><span class="line">            exclude: path.resolve(__dirname + <span class="string">'node_modules'</span>)</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"style-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"css-loader"</span>, <span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"postcss-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"less-loader"</span> &#125;<span class="comment">//less放在最后，因为要最先加载（loader从右往左加载的规则）</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>配置完成后，再次运行webpack命令，并在浏览器中查看效果，可以看到在head标签内又新增了一个style标签，并且已经将less编译成css了</p>
<p><img src="/2017/11/29/webpack02/wp2_4.jpg" alt="less-loader"></p>
<h2 id="Babel编译ES6"><a href="#Babel编译ES6" class="headerlink" title="Babel编译ES6"></a>Babel编译ES6</h2><p>babel是一个js的转码器，将ES6或者ES7转换成ES5或者ES3；babel编译主要依靠于核心库babel-core，也就是说，用ES6进行编程而不需要担心浏览器环境是否支持。</p>
<h3 id="babel-preset-env代替babel-preset-ES2015"><a href="#babel-preset-env代替babel-preset-ES2015" class="headerlink" title="babel-preset-env代替babel-preset-ES2015"></a>babel-preset-env代替babel-preset-ES2015</h3><p>在此之前，我猜测有很多的同学使用Babel的时候，preset必然会选择ES2015，但是最近babel官方推出了babel-preset-env，并建议在使用的时候选择env代替之前的ES20**。env为我们提供了更智能的编译选择，在此我们就不展开，有兴趣的同学可以去官网深入了解。</p>
<h3 id="babel-preset-env编译ES6"><a href="#babel-preset-env编译ES6" class="headerlink" title="babel-preset-env编译ES6"></a>babel-preset-env编译ES6</h3><p>1、首先，我们安装babel-loader、babel-core以及babel-preset-env，并在入口文件app.js中新增一段带ES6语法的js。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save-dev babel-loader babel-core babel-preset-env</span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./css/common.css'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./css/style.less'</span>;</span><br><span class="line"><span class="comment">//生成一个整数随机值，数值大于4则返回成功的Promise对象，否则返回错误的promise对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> key = ~~(<span class="built_in">Math</span>.random() * <span class="number">10</span>);</span><br><span class="line">        <span class="keyword">let</span> temp = [<span class="string">'es6'</span>,<span class="string">'babel'</span>]</span><br><span class="line">        <span class="keyword">if</span> (key &gt;= <span class="number">5</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> obj = &#123;</span><br><span class="line">                msg: <span class="string">"ok"</span>,</span><br><span class="line">                data: [key,...temp]</span><br><span class="line">            &#125;;</span><br><span class="line">            resolve.call(<span class="keyword">this</span>, obj);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> obj = &#123;</span><br><span class="line">                msg: <span class="string">"error"</span>,</span><br><span class="line">                data: [key,...temp]</span><br><span class="line">            &#125;;</span><br><span class="line">            reject.call(<span class="keyword">this</span>, obj);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> promise</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//找到页面中的Dom</span></span><br><span class="line"><span class="keyword">let</span> container = <span class="built_in">document</span>.querySelector(<span class="string">'#app'</span>);</span><br><span class="line"><span class="comment">//获取返回的结果并打印到界面</span></span><br><span class="line">getData().then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    container.innerHTML = <span class="built_in">JSON</span>.stringify(data)</span><br><span class="line">&#125;, (err) =&gt; &#123;</span><br><span class="line">    container.innerHTML = <span class="built_in">JSON</span>.stringify(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在这段代码中，我么使用了Promise来返回最后生成的结果，并将结果打印到界面中，其中运用了Promise、箭头函数、解构赋值等ES6的语法</p>
<p>2、现在，我们去webpack配置文件中新增一条规则：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"style-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"css-loader"</span>, <span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"postcss-loader"</span> &#125;</span><br><span class="line">            ],</span><br><span class="line">            exclude: path.resolve(__dirname + <span class="string">'node_modules'</span>)</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"style-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"css-loader"</span>, <span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"postcss-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"less-loader"</span> &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//新增规则，编译js</span></span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">            loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">            exclude: path.resolve(__dirname + <span class="string">'node_modules'</span>)</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure></p>
<p>并且在根目录下新增.babelrc文件，用来存放babel相关的配置：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//.babelrc</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"presets"</span>: [</span><br><span class="line">        [<span class="string">"env"</span>,&#123;</span><br><span class="line">            <span class="string">"targets"</span>: &#123;</span><br><span class="line">                <span class="string">"chrome"</span>: <span class="number">52</span>,</span><br><span class="line">                <span class="string">"browsers"</span>: [<span class="string">"last 2 versions"</span>, <span class="string">"safari 7"</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]</span><br><span class="line">    ]<span class="comment">//设置编译场景，并配置目标结果兼容到chrome52版本以上等等。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>现在我们在命令行运行webpack命令，并在浏览器中刷新界面，可以看到页面输出了我们结果。<br><img src="/2017/11/29/webpack02/wp2_5.jpg" alt="babel编译es6"><br>并且，在生成的js中发现，通过编译后的js已经不再是es6的写法了,变异后的核心代码如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">//编译后的js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> key = ~~(<span class="built_in">Math</span>.random() * <span class="number">10</span>);</span><br><span class="line">        <span class="keyword">var</span> temp = [<span class="string">'es6'</span>, <span class="string">'babel'</span>];</span><br><span class="line">        <span class="keyword">if</span> (key &gt;= <span class="number">5</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> obj = &#123;</span><br><span class="line">                msg: <span class="string">"ok"</span>,</span><br><span class="line">                data: [key].concat(temp)</span><br><span class="line">            &#125;;</span><br><span class="line">            resolve.call(_this, obj);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> _obj = &#123;</span><br><span class="line">                msg: <span class="string">"error"</span>,</span><br><span class="line">                data: [key].concat(temp)</span><br><span class="line">            &#125;;</span><br><span class="line">            reject.call(_this, _obj);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> promise;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> container = <span class="built_in">document</span>.querySelector(<span class="string">'#app'</span>);</span><br><span class="line"></span><br><span class="line">getData().then(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    container.innerHTML = <span class="built_in">JSON</span>.stringify(data);</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">    container.innerHTML = <span class="built_in">JSON</span>.stringify(err);</span><br><span class="line">&#125;);</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>到此，通过babel编译js就基本完成，当然，babel提供了很多的插件和配置项，有兴趣的同学可以深入了解，本文暂不做深层次探讨。</p>
<h2 id="CSS与JS文件分离"><a href="#CSS与JS文件分离" class="headerlink" title="CSS与JS文件分离"></a>CSS与JS文件分离</h2><p>通过上面的操作，我们已经可以成功的将css和js进行编译打包，但是当我们再次去查看打包后的js文件时，发现js体积很大（目前js大小22kb），我们只是写了几行js而已啊，那么这又是怎么回事？</p>
<p>实际上，webpack在打包的时候，会把所有的模块，最终打包在一个文件里面，这也是为什么我们的js文件会如此之大，但却没看到有相应的css文件的原因。</p>
<h3 id="静态资源处理器extract-text-webpack-plugin"><a href="#静态资源处理器extract-text-webpack-plugin" class="headerlink" title="静态资源处理器extract-text-webpack-plugin"></a>静态资源处理器extract-text-webpack-plugin</h3><p>extract-text-webpack-plugin用来实现不同文件的分离，其用法也和之前插件的用法一样。<br>1、安装插件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm i extract-text-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure></p>
<p>2、在webpack配置项中对之前我们的css编译规则进行更改：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">//引入插件</span></span><br><span class="line"><span class="keyword">let</span> extractTextPlugin = <span class="built_in">require</span>(<span class="string">'extract-text-webpack-plugin'</span>);</span><br><span class="line"><span class="comment">//初始化两个实例用于两处规则分别加载</span></span><br><span class="line"><span class="keyword">let</span> extractCSS = <span class="keyword">new</span> extractTextPlugin(<span class="string">'css/[name]-one.css'</span>);</span><br><span class="line"><span class="keyword">let</span> extractLESS = <span class="keyword">new</span> extractTextPlugin(<span class="string">'css/[name]-two.css'</span>);</span><br><span class="line"></span><br><span class="line"> ...</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">            <span class="comment">//extractCSS实例对css进行操作</span></span><br><span class="line">            use: extractCSS.extract([</span><br><span class="line">                <span class="comment">// &#123; loader: "style-loader" &#125;,//style-loader不能和插件一起使用</span></span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"css-loader"</span>, <span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"postcss-loader"</span> &#125;</span><br><span class="line">            ])</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">            <span class="comment">//extractLESS实例对less进行操作</span></span><br><span class="line">            use: extractLESS.extract([</span><br><span class="line">                <span class="comment">// &#123; loader: "style-loader" &#125;,</span></span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"css-loader"</span>, <span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"postcss-loader"</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">loader</span>: <span class="string">"less-loader"</span> &#125;</span><br><span class="line">            ])</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">            use: [&#123; <span class="attr">loader</span>: <span class="string">"babel-loader"</span> &#125;],</span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">     plugins: [</span><br><span class="line">        <span class="comment">//注册插件</span></span><br><span class="line">        extractCSS,</span><br><span class="line">        extractLESS</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure></p>
<p>在配置中需要注意一下几点：</p>
<ul>
<li><strong>插件不能喝style-loader同时使用</strong>，原因是style-loader的作用是获取到js内部的样式并一行内形式插入到head标签中，但是extractTextPlugin插件是将js内部的代码提取成css文件并添加外部引用的方式进行加载。</li>
<li><strong>在多处用到extractTextPlugin插件的时候，我们需要对插件进行功能性的拆分</strong>，就比如我们的项目中有两处规则用到它，因此我们首先对插件进行两次实例化得到两个实例，并分别用到两个处理规则中。</li>
<li>别忘了在plugins下进行注册。</li>
</ul>
<p>最后，我们再看我们生成的js文件，已经只有4kb大小，减少了接近5倍的体积，可想而知，分离出css是很有必要的。</p>
<h2 id=""><a href="#" class="headerlink" title=" "></a><img src="/2017/11/29/webpack02/wp2_6.jpg" alt="静态资源分离"> </h2><h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>本节我们队webpack的加载器模块相关配置进行实战演练，学习完这一节后，您应该了解一下几点：</p>
<ul>
<li><strong>css的处理相关</strong>，包括各加载器的作用、执行顺序、css预处理和后处理操作。</li>
<li><strong>ES6的编译与加载</strong>，包括babel-preset-env替换babel-preset-es2015的使用方法。</li>
<li><p><strong>css资源与js资源的分割</strong>，包括插件 extract-text-webpack-plugin对静态资源的处理方式和注意事项。</p>
<p>下一节，我们将继续探讨webpack处理文件资源的方法，包括图片加载、图片转base64、icon及字体处理等等。</p>
<p>愿各位早日成为一名合格的前端高手，加油！</p>
</li>
</ul>
</div><div class="tags"><a href="/tags/webpack/">webpack</a><a href="/tags/node/">node</a><a href="/tags/javascript/">javascript</a></div><div class="post-share"></div><div class="post-nav"><a href="/2017/11/21/webpack01/" class="next">Webpack3.0快速入门（一）--初体验</a></div><div id="comments"><div data-thread-key="2017/11/29/webpack02/" data-title="Webpack3.0快速入门之css处理与ES6编译" data-url="http://tycsbs.github.io/2017/11/29/webpack02/" data-author-key="1" class="ds-thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#写在前面"><span class="toc-text">写在前面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#css资源文件的编译与加载"><span class="toc-text">css资源文件的编译与加载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#style-loader-amp-amp-css-loader"><span class="toc-text">style-loader && css-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#autoprefixer"><span class="toc-text">autoprefixer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css预处理（less-loader）"><span class="toc-text">css预处理（less-loader）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Babel编译ES6"><span class="toc-text">Babel编译ES6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#babel-preset-env代替babel-preset-ES2015"><span class="toc-text">babel-preset-env代替babel-preset-ES2015</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#babel-preset-env编译ES6"><span class="toc-text">babel-preset-env编译ES6</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS与JS文件分离"><span class="toc-text">CSS与JS文件分离</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#静态资源处理器extract-text-webpack-plugin"><span class="toc-text">静态资源处理器extract-text-webpack-plugin</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#"><span class="toc-text"> </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#写在最后"><span class="toc-text">写在最后</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/11/29/webpack02/">Webpack3.0快速入门之css处理与ES6编译</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/21/webpack01/">Webpack3.0快速入门（一）--初体验</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/webpack/" style="font-size: 15px;">webpack</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.zhangxinxu.com/" title="张鑫旭博客" target="_blank">张鑫旭博客</a><ul></ul><a href="http://www.ruanyifeng.com/blog/" title="阮一峰博客" target="_blank">阮一峰博客</a><ul></ul><a href="http://www.cnblogs.com/TomXu/archive/2011/12/15/2288411.html" title="Tom大叔" target="_blank">Tom大叔</a><ul></ul><a href="http://taobaofed.org/" title="阿里爸爸淘宝FE" target="_blank">阿里爸爸淘宝FE</a><ul></ul><a href="http://es6.ruanyifeng.com/#docs/class" title="ES6入门到放弃" target="_blank">ES6入门到放弃</a><ul></ul><a href="https://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/" title="廖雪峰博客" target="_blank">廖雪峰博客</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">白松.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>var duoshuoQuery = {short_name:'tycsbs'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    document.getElementsByTagName('body')[0].appendChild(ds);
})();
</script></body></html>